{"version":3,"sources":["Utils/getInitialUserData.ts","Utils/getRandomId.ts","Components/BaseComponets/ErrorMessage/ErrorMessage.tsx","Services/firebase.ts","Components/BaseComponets/UserCardForm/UserCardForm.tsx","Components/BaseComponets/UserCard/UserCard.tsx","Components/BaseComponets/UserCardWrapper/UserCardWrapper.tsx","Constants/User.ts","Services/mockedData.ts","Components/BaseComponets/Filter/Filter.tsx","Hooks/usePagination.ts","Components/Pages/MainPage/MainPage.tsx","Components/BaseComponets/Header/Header.tsx","Components/BaseComponets/Footer/Footer.tsx","Components/App/App.tsx","index.tsx"],"names":["initialUserValues","id","Math","random","toString","substr","name","surname","email","phone","birthday","credit","ErrorMessage","children","className","config","apiKey","process","REACT_APP_APIKEY","authDomain","REACT_APP_AUTHDOMAIN","databaseURL","projectId","REACT_APP_PID","storageBucket","REACT_APP_SB","messagingSenderId","REACT_APP_MSID","appId","REACT_APP_APPID","measurementId","REACT_APP_MID","firebase","initializeApp","usersRef","database","ref","UserSchema","yup","shape","max","required","matches","test","value","valid","number","isValid","length","UserCardForm","user","isMainEditForm","handleSaveClick","handleCancelClick","handleFormMessage","formik","useFormik","initialValues","validationSchema","onSubmit","values","resetForm","isEmailDataInDB","orderByChild","equalTo","on","snapshot","val","push","then","catch","child","set","handleSubmit","type","onChange","handleChange","errors","min","inputMode","onClick","UserCard","handleClick","UserCardWrapper","editFormType","useState","userForm","setUserForm","handleEditClick","mockData","Filter","keyword","input","setKeyword","key","placeholder","e","target","usePagination","data","itemsPerPage","currentPage","setCurrentPage","maxPage","ceil","next","prev","jump","page","pageNumber","currentData","begin","end","slice","initialMessage","text","isSuccess","MainPage","filterInput","setFilterInput","userListDefault","setUserListDefault","userList","setUserList","message","setMessage","count","_DATA","useEffect","exists","items","newState","Object","keys","forEach","error","console","log","timer","setTimeout","clearTimeout","filtered","filter","toLowerCase","includes","map","Pagination","size","variant","Header","Footer","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.06c83f97.chunk.js","sourcesContent":["import { getRandomId } from './getRandomId'\n\nexport const initialUserValues = {\n  id: getRandomId(),\n  name: '',\n  surname: '',\n  email: '',\n  phone: '',\n  birthday: '',\n  credit: '',\n}\n","export const getRandomId = () => {\n  return '_' + Math.random().toString(36).substr(2, 9)\n}\n","import React from 'react'\nimport './ErrorMessage.scss'\n\nconst ErrorMessage: React.FC = ({ children }) => {\n  return <span className=\"error-message\">{children}</span>\n}\n\nexport default ErrorMessage\n","import firebase from 'firebase/app'\nimport 'firebase/database'\n\nconst config = {\n  apiKey: process.env.REACT_APP_APIKEY,\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\n  databaseURL:\n    'https://user-list-c0863-default-rtdb.europe-west1.firebasedatabase.app/',\n  projectId: process.env.REACT_APP_PID,\n  storageBucket: process.env.REACT_APP_SB,\n  messagingSenderId: process.env.REACT_APP_MSID,\n  appId: process.env.REACT_APP_APPID,\n  measurementId: process.env.REACT_APP_MID,\n}\n\nfirebase.initializeApp(config)\nexport const usersRef = firebase.database().ref('users')\n\nexport default firebase\n","import React from 'react'\nimport { useFormik } from 'formik'\nimport * as yup from 'yup'\nimport valid from 'card-validator'\nimport { User } from '../../../Types/User'\nimport { initialUserValues } from '../../../Utils/getInitialUserData'\nimport ErrorMessage from '../ErrorMessage'\nimport { usersRef } from '../../../Services/firebase'\n\nimport '../UserCard/UserCard.scss'\nimport '../UserCardForm/UserCardForm.scss'\n\nconst phoneRegExp = /^\\+[(]\\d{1,3}[)][ ]\\d{3}-\\d{3}-\\d{2}-\\d{2}$/\nconst UserSchema = yup.object().shape({\n  name: yup.string().max(16).required('Name is a required field'),\n  surname: yup.string().max(20).required('Surname is a required field'),\n  email: yup\n    .string()\n    .email('Please enter your valid email')\n    .required('Please enter your email'),\n  phone: yup\n    .string()\n    .matches(\n      phoneRegExp,\n      'Phone number is not valid, enter format +({country code}) XXX-XXX-XX-XX',\n    ),\n  credit: yup\n    .string()\n    .test(\n      'test-number',\n      'Credit Card number is invalid',\n      value => valid.number(value).isValid || !value?.length,\n    ),\n})\n\ntype UserCardFormProps = Partial<{\n  user: User\n  isMainEditForm: boolean\n  handleSaveClick: () => void\n  handleCancelClick: () => void\n  handleNotification: (str: string) => void\n}> & { handleFormMessage: (text: string, isSuccess?: boolean) => void }\n\nconst UserCardForm: React.FC<UserCardFormProps> = ({\n  user,\n  isMainEditForm,\n  handleSaveClick,\n  handleCancelClick,\n  handleFormMessage,\n}) => {\n  const formik = useFormik({\n    initialValues: user || initialUserValues,\n    validationSchema: UserSchema,\n    onSubmit: (values, { resetForm }) => {\n      if (isMainEditForm) {\n        let isEmailDataInDB = false\n        usersRef\n          .orderByChild('email')\n          .equalTo(values.email)\n          .on('value', snapshot => {\n            if (snapshot.val() !== null) {\n              isEmailDataInDB = true\n              handleFormMessage('Email already exists')\n            }\n          })\n        if (!isEmailDataInDB) {\n          usersRef\n            .push(values)\n            .then(() => handleFormMessage('User added successfully', true))\n            .catch(() => handleFormMessage('Adding failed, try again'))\n          resetForm()\n        }\n      } else {\n        usersRef\n          .child(`${values.id}`)\n          .set(values)\n          .catch(() => handleFormMessage('Updating failed, try again'))\n        if (handleSaveClick) {\n          handleSaveClick()\n        }\n      }\n    },\n  })\n\n  return (\n    <form\n      className={`${isMainEditForm ? 'user__form--main' : ''} user__form`}\n      onSubmit={formik.handleSubmit}\n    >\n      <div className=\"user__info\">\n        <label className=\"user__title\">\n          Name\n          <input\n            id=\"name\"\n            name=\"name\"\n            type=\"text\"\n            onChange={formik.handleChange}\n            value={formik.values.name}\n            className=\"user__data\"\n          />\n        </label>\n        {formik.errors.name && (\n          <ErrorMessage>{formik.errors.name}</ErrorMessage>\n        )}\n      </div>\n      <div className=\"user__info\">\n        <label className=\"user__title\">\n          Surname\n          <input\n            id=\"surname\"\n            name=\"surname\"\n            type=\"text\"\n            onChange={formik.handleChange}\n            value={formik.values.surname}\n            className=\"user__data\"\n          />\n        </label>\n        {formik.errors.surname && (\n          <ErrorMessage>{formik.errors.surname}</ErrorMessage>\n        )}\n      </div>\n      <div className=\"user__info\">\n        <label className=\"user__title\">\n          Email\n          <input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            onChange={formik.handleChange}\n            value={formik.values.email}\n            className=\"user__data\"\n          />\n        </label>\n        {formik.errors.email && (\n          <ErrorMessage>{formik.errors.email}</ErrorMessage>\n        )}\n      </div>\n      <div className=\"user__info\">\n        <label className=\"user__title\">\n          Phone\n          <input\n            id=\"phone\"\n            name=\"phone\"\n            type=\"tel\"\n            onChange={formik.handleChange}\n            value={formik.values.phone}\n            className=\"user__data\"\n          />\n        </label>\n        {formik.errors.phone && (\n          <ErrorMessage>{formik.errors.phone}</ErrorMessage>\n        )}\n      </div>\n      <div className=\"user__info\">\n        <label className=\"user__title\">\n          Birthday\n          <input\n            id=\"birthday\"\n            name=\"birthday\"\n            type=\"date\"\n            onChange={formik.handleChange}\n            value={formik.values.birthday}\n            className=\"user__data\"\n            min=\"1950-01-01\"\n            max=\"2018-12-31\"\n          />\n        </label>\n      </div>\n      <div className=\"user__info\">\n        <label className=\"user__title\">\n          Credit card\n          <input\n            id=\"credit\"\n            name=\"credit\"\n            type=\"text\"\n            inputMode=\"numeric\"\n            onChange={formik.handleChange}\n            value={formik.values.credit || ''}\n            className=\"user__data\"\n          />\n        </label>\n        {formik.errors.credit && (\n          <ErrorMessage>{formik.errors.credit}</ErrorMessage>\n        )}\n      </div>\n      {isMainEditForm ? (\n        <button type=\"submit\" className=\"user__btn--create\">\n          Create\n        </button>\n      ) : (\n        <div>\n          <button type=\"submit\" className=\"user__btn--save\">\n            Save\n          </button>\n          <button\n            type=\"button\"\n            className=\"user__btn--cancel\"\n            onClick={handleCancelClick}\n          >\n            Cancel\n          </button>\n        </div>\n      )}\n    </form>\n  )\n}\n\nexport default UserCardForm\n","import React from 'react'\nimport { User } from '../../../Types/User'\nimport './UserCard.scss'\n\ntype UserCardProps = {\n  user: User\n  handleClick: () => void\n}\n\nconst UserCard: React.FC<UserCardProps> = ({ user, handleClick }) => {\n  return (\n    <li className=\"user\">\n      <div className=\"user__info\">\n        <span className=\"user__title\">Name</span>\n        <span className=\"user__data\">{user.name}</span>\n      </div>\n      <div className=\"user__info\">\n        <span className=\"user__title\">Surname</span>\n        <span className=\"user__data\">{user.surname}</span>\n      </div>\n      <div className=\"user__info\">\n        <span className=\"user__title\">Email</span>\n        <span className=\"user__data\">{user.email}</span>\n      </div>\n      {user.phone && (\n        <div className=\"user__info\">\n          <span className=\"user__title\">Phone</span>\n          <span className=\"user__data\">{user.phone}</span>\n        </div>\n      )}\n      {user.birthday && (\n        <div className=\"user__info\">\n          <span className=\"user__title\">Birthday</span>\n          <span className=\"user__data\">{user.birthday}</span>\n        </div>\n      )}\n      {user.credit && (\n        <div className=\"user__info\">\n          <span className=\"user__title\">Credit card</span>\n          <span className=\"user__data\">{user.credit}</span>\n        </div>\n      )}\n\n      <button className=\"user__btn--edit\" type=\"button\" onClick={handleClick}>\n        Edit info\n      </button>\n    </li>\n  )\n}\n\nexport default UserCard\n","import React, { useState } from 'react'\nimport UserCardForm from '../UserCardForm'\nimport UserCard from '../UserCard'\nimport { User } from '../../../Types/User'\nimport { MAIN_EDIT_FORM_TYPE } from '../../../Constants/User'\nimport { initialUserValues } from '../../../Utils/getInitialUserData'\n\ntype UserCardWrapperProps = Partial<{\n  user: User\n  editFormType: string\n}> & { handleFormMessage: (text: string, isSuccess?: boolean) => void }\n\nconst UserCardWrapper: React.FC<UserCardWrapperProps> = ({\n  user,\n  editFormType,\n  handleFormMessage,\n}) => {\n  const [userForm, setUserForm] = useState<boolean>()\n\n  const handleEditClick = () => {\n    setUserForm(true)\n  }\n\n  const handleSaveClick = () => {\n    setUserForm(false)\n  }\n\n  const handleCancelClick = () => {\n    setUserForm(false)\n  }\n\n  const isMainEditForm = (formType: string) => {\n    return editFormType === formType\n  }\n\n  const renderUserCard = () => {\n    if (userForm) {\n      return (\n        <li className=\"user\">\n          <UserCardForm\n            user={user}\n            handleSaveClick={handleSaveClick}\n            handleCancelClick={handleCancelClick}\n            handleFormMessage={handleFormMessage}\n          />\n        </li>\n      )\n    } else if (isMainEditForm(MAIN_EDIT_FORM_TYPE)) {\n      return (\n        <UserCardForm isMainEditForm handleFormMessage={handleFormMessage} />\n      )\n    } else {\n      return (\n        <UserCard\n          user={user || initialUserValues}\n          handleClick={handleEditClick}\n        />\n      )\n    }\n  }\n\n  return <>{renderUserCard()}</>\n}\n\nexport default UserCardWrapper\n","export const MAIN_EDIT_FORM_TYPE = 'main-form'\nexport const PER_PAGE = 6\n","export const mockData = [\n  {\n    id: '1',\n    name: 'Leanne',\n    surname: 'Bret',\n    email: 'Sincere@april.biz',\n    phone: '+(38) 055-055-55-55',\n    birthday: '19.11.1997',\n    credit: '4149 4940 4940 4940',\n  },\n  {\n    id: '2',\n    name: 'Ervin',\n    surname: 'Antonette',\n    email: 'Shanna@melissa.tv',\n    phone: '+(38) 055-055-55-55',\n    birthday: '19.11.1997',\n    credit: '4149 4940 4940 4940',\n  },\n  {\n    id: '3',\n    name: 'Clementine',\n    surname: 'Samantha',\n    email: 'Nathan@yesenia.net',\n    phone: '+(38) 055-055-55-55',\n    birthday: '19.11.1997',\n    credit: '4149 4940 4940 4940',\n  },\n  {\n    id: '4',\n    name: 'Patricia',\n    surname: 'Karianne',\n    email: 'Julianne.OConner@kory.org',\n    phone: '+(38) 055-055-55-55',\n    birthday: '19.11.1997',\n    credit: '4149 4940 4940 4940',\n  },\n  {\n    id: '5',\n    name: 'Chelsey',\n    surname: 'Kamren',\n    email: 'Lucio_Hettinger@annie.ca',\n    phone: '+(38) 055-055-55-55',\n    birthday: '19.11.1997',\n    credit: '4149 4940 4940 4940',\n  },\n  {\n    id: '6',\n    name: 'Dennis',\n    surname: 'Leopoldo_Corkery',\n    email: 'Karley_Dach@jasper.info',\n    phone: '+(38) 055-055-55-55',\n    birthday: '19.11.1997',\n    credit: '4149 4940 4940 4940',\n  },\n  {\n    id: '7',\n    name: 'Kurtis',\n    surname: 'Elwyn.Skiles',\n    email: 'Telly.Hoeger@billy.biz',\n    phone: '+(38) 055-055-55-55',\n    birthday: '19.11.1997',\n    credit: '4149 4940 4940 4940',\n  },\n  {\n    id: '8',\n    name: 'Nicholas V',\n    surname: 'Maxime_Nienow',\n    email: 'Sherwood@rosamond.me',\n    phone: '+(38) 055-055-55-55',\n    birthday: '19.11.1997',\n    credit: '4149 4940 4940 4940',\n  },\n  {\n    id: '9',\n    name: 'Glenna',\n    surname: 'Delphine',\n    email: 'Chaim_McDermott@dana.io',\n    phone: '+(38) 055-055-55-55',\n    birthday: '19.11.1997',\n    credit: '4149 4940 4940 4940',\n  },\n  {\n    id: '10',\n    name: 'Clementina',\n    surname: 'Moriah.Stanton',\n    email: 'Rey.Padberg@karina.biz',\n    phone: '+(38) 055-055-55-55',\n    birthday: '19.11.1997',\n    credit: '4149 4940 4940 4940',\n  },\n]\n","import React from 'react'\nimport './Filter.scss'\n\ntype FilterProps = {\n  input: string\n  onChange: (e: string) => void\n}\n\nconst Filter: React.FC<FilterProps> = ({\n  input: keyword,\n  onChange: setKeyword,\n}) => {\n  return (\n    <div className=\"filter\">\n      <input\n        className=\"filter__input\"\n        key=\"key123\"\n        value={keyword}\n        placeholder={'Search user name'}\n        onChange={e => setKeyword(e.target.value)}\n      />\n    </div>\n  )\n}\n\nexport default Filter\n","import { useState } from 'react'\nimport { User } from '../Types/User'\n\nconst usePagination = (data: User[], itemsPerPage: number) => {\n  const [currentPage, setCurrentPage] = useState(1)\n  const maxPage = Math.ceil(data.length / itemsPerPage)\n\n  const currentData = () => {\n    const begin = (currentPage - 1) * itemsPerPage\n    const end = begin + itemsPerPage\n    return data.slice(begin, end)\n  }\n\n  const next = () => {\n    setCurrentPage(currentPage => Math.min(currentPage + 1, maxPage))\n  }\n\n  const prev = () => {\n    setCurrentPage(currentPage => Math.max(currentPage - 1, 1))\n  }\n\n  const jump = (page: number) => {\n    const pageNumber = Math.max(1, page)\n    setCurrentPage(Math.min(pageNumber, maxPage))\n  }\n\n  return { next, prev, jump, currentData, currentPage, maxPage }\n}\n\nexport default usePagination\n","import React, { useEffect, useState } from 'react'\nimport UserCardWrapper from '../../BaseComponets/UserCardWrapper'\nimport { mockData } from '../../../Services/mockedData'\nimport { User } from '../../../Types/User'\nimport Filter from '../../BaseComponets/Filter'\nimport { MAIN_EDIT_FORM_TYPE, PER_PAGE } from '../../../Constants/User'\nimport { Pagination } from '@material-ui/lab'\nimport usePagination from '../../../Hooks/usePagination'\nimport { usersRef } from '../../../Services/firebase'\nimport './MainPage.scss'\n\ntype Message = {\n  text: string\n  isSuccess: boolean\n}\n\nconst initialMessage = {\n  text: '',\n  isSuccess: false,\n}\n\nconst MainPage = () => {\n  const [filterInput, setFilterInput] = useState('')\n  const [userListDefault, setUserListDefault] = useState<User[]>([])\n  const [userList, setUserList] = useState<User[]>([])\n  const [currentPage, setCurrentPage] = useState(1)\n  const [message, setMessage] = useState<Message>(initialMessage)\n\n  const count = Math.ceil(userList.length / PER_PAGE)\n  const _DATA = usePagination(userList, PER_PAGE)\n\n  const handleChange = (e: React.ChangeEvent<unknown>, page: number) => {\n    setCurrentPage(page)\n    return _DATA?.jump(page)\n  }\n\n  const handleFormMessage = (text: string, isSuccess = false) => {\n    return setMessage({ text, isSuccess })\n  }\n\n  const updateInput = (input: string) => {\n    const filtered = userListDefault?.filter(user => {\n      return user.name.toLowerCase().includes(input.toLowerCase())\n    })\n    setFilterInput(input)\n    setUserList(filtered)\n  }\n\n  useEffect(() => {\n    usersRef.on(\n      'value',\n      data => {\n        if (data.exists()) {\n          const items = data.val()\n          const newState: User[] = []\n          if (items) {\n            Object.keys(items).forEach(key => {\n              newState.push({ ...items[key], id: key })\n            })\n          }\n          setUserList(newState)\n          setUserListDefault(newState)\n        } else {\n          setUserList(mockData)\n          setUserListDefault(mockData)\n        }\n      },\n      (error: Error) => {\n        console.log(error)\n      },\n    )\n  }, [])\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (message?.isSuccess) {\n        setMessage(initialMessage)\n      }\n    }, 3000)\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [message])\n\n  return (\n    <main>\n      <Filter input={filterInput} onChange={updateInput} />\n      <UserCardWrapper\n        handleFormMessage={handleFormMessage}\n        editFormType={MAIN_EDIT_FORM_TYPE}\n      />\n      {message?.text && (\n        <span\n          className={`message ${\n            message.isSuccess ? 'message--success' : 'message--error'\n          }`}\n        >\n          {message.text}\n        </span>\n      )}\n      <ul className=\"list\">\n        {_DATA?.currentData().map(user => (\n          <UserCardWrapper\n            key={user.id}\n            user={user}\n            handleFormMessage={handleFormMessage}\n          />\n        ))}\n      </ul>\n      <Pagination\n        count={count}\n        size=\"large\"\n        page={currentPage}\n        variant=\"outlined\"\n        shape=\"rounded\"\n        onChange={handleChange}\n        className=\"pagination\"\n      />\n    </main>\n  )\n}\n\nexport default MainPage\n","import React from 'react'\n\nimport './Header.scss'\n\nconst Header = () => {\n  return (\n    <header className=\"header\">\n      <h2>User List</h2>\n    </header>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\nimport './Footer.scss'\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&copy; 2021 by Anna Tsukanova</p>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport MainPage from '../Pages/MainPage'\nimport Header from '../BaseComponets/Header'\nimport Footer from '../BaseComponets/Footer'\nimport './App.scss'\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <Header />\n      <MainPage />\n      <Footer />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport App from './Components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}